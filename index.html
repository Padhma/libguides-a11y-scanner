<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='75' font-size='75'>üîç</text></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LibGuides A11y Insights</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --color-primary-blue: #00274C;
            --color-secondary-gold: #FFCB05;
            --color-text-dark: #1F2937;
            --color-text-medium: #4B5563;
            --color-background: #F9FAFB;
            --color-card-background: white;
            --color-border-light: #E5E7EB;
            --color-link-blue: #005A9C;
        }
        
        html {
            background-color: var(--color-primary-blue); 
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--color-background); 
            min-height: 100vh;
            color: var(--color-text-dark);
            line-height: 1.6;
            font-size: 15px;
        }
        
        a {
            color: var(--color-link-blue);
            text-decoration: none;
            transition: color 0.2s;
        }
        a:hover {
            color: var(--color-primary-blue);
            text-decoration: underline;
        }

        .header {
            background: linear-gradient(135deg, #00274c 0%, #004b87 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 16px; 
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            gap: 0;
            background: white;
            border-radius: 8px 8px 0 0;
            margin-top: 40px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .tab-button {
            flex: 1;
            padding: 16px 24px;
            background: white;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            color: var(--color-text-medium);
            transition: all 0.2s;
        }

        .tab-button:hover {
            background: #F9FAFB;
            color: var(--color-primary-blue);
        }

        .tab-button.active {
            color: var(--color-primary-blue);
            border-bottom-color: var(--color-secondary-gold);
            background: white;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            background: white;
            border-radius: 0 0 8px 8px;
            padding: 40px;
            min-height: 500px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 40px;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content h2 {
            color: var(--color-primary-blue);
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--color-border-light);
        }

        .tab-content h3 {
            color: var(--color-primary-blue);
            font-size: 18px;
            font-weight: 600;
            margin-top: 30px;
            margin-bottom: 12px;
        }

        .tab-content p {
            margin-bottom: 16px;
            color: var(--color-text-dark);
            line-height: 1.7;
        }

        .tab-content ul {
            margin: 16px 0;
            padding-left: 24px;
        }

        .tab-content li {
            margin-bottom: 8px;
            color: var(--color-text-dark);
        }

        /* Bookmarklet Section */
        .bookmarklet-section {
            text-align: center;
            padding: 30px;
            background: #FFFBEB; 
            border-radius: 8px; 
            border: 2px solid var(--color-secondary-gold);
            margin: 24px 0;
        }

        .bookmarklet-button {
            display: inline-block;
            padding: 14px 28px;
            background: var(--color-secondary-gold);
            color: var(--color-primary-blue);
            text-decoration: none;
            font-size: 16px;
            font-weight: 700;
            border-radius: 6px;
            border: 2px solid var(--color-primary-blue);
            cursor: move;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .bookmarklet-button:hover {
            background-color: #FFD94D;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        .instruction {
            margin-top: 20px;
            padding: 16px;
            border-radius: 6px;
            border-left: 4px solid var(--color-primary-blue);
            background: #F8F9FA;
            text-align: left;
        }
        
        .instruction ol {
            padding-left: 20px;
            margin-top: 8px;
        }

        .instruction strong {
            font-size: 15px;
            margin-bottom: 8px;
            display: block; 
        }

        /* Steps */
        .step {
            display: flex;
            align-items: flex-start;
            background: #F0F4F8; 
            padding: 16px;
            margin: 12px 0;
            border-radius: 8px;
            border-left: 4px solid var(--color-secondary-gold);
        }

        .step-number {
            width: 28px;
            height: 28px;
            background: var(--color-primary-blue);
            color: white;
            border-radius: 50%;
            font-weight: 700;
            margin-right: 14px;
            font-size: 14px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content strong {
            display: block;
            margin-bottom: 4px;
            color: var(--color-primary-blue);
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }

        .feature-card {
            padding: 24px;
            border-radius: 8px;
            border: 1px solid var(--color-border-light);
            background: #FAFBFC;
        }
        
        .feature-card h4 {
            font-size: 16px;
            font-weight: 600;
            color: var(--color-primary-blue);
            margin-bottom: 8px;
        }

        .feature-card p {
            font-size: 14px;
            color: var(--color-text-medium);
            margin: 0;
        }

        /* FAQ Section */
        .faq-item {
            border: 1px solid var(--color-border-light);
            margin-bottom: -1px;
            background-color: white;
        }
        
        .faq-item:first-of-type {
            border-top-left-radius: 6px;
            border-top-right-radius: 6px;
        }

        .faq-item:last-of-type {
            border-bottom-left-radius: 6px;
            border-bottom-right-radius: 6px;
            margin-bottom: 10px;
        }

        .faq-question {
            padding: 16px 20px;
            font-weight: 600;
            cursor: pointer;
            list-style: none;
            position: relative;
            user-select: none;
            transition: background-color 0.2s;
        }

        .faq-question:hover {
            background-color: #F8F9FA;
        }
        
        .faq-question::before {
            content: '';
            width: 0;
            height: 0;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-left: 5px solid var(--color-primary-blue);
            margin-right: 12px;
            display: inline-block;
            transition: transform 0.2s ease;
        }

        .faq-item[open] .faq-question::before {
            transform: rotate(90deg);
        }
        
        .faq-answer {
            padding: 0 20px 16px 37px;
            background-color: #F8F9FA;
            border-top: 1px solid var(--color-border-light);
            line-height: 1.6;
            color: var(--color-text-medium);
        }

        /* Demo Links */
        .demo-links {
            text-align: center;
            margin: 20px 0;
        }

        .demo-links a {
            display: inline-block;
            margin: 0 8px;
            font-weight: 500;
        }

        .info-box {
            background: #EFF6FF;
            border-left: 4px solid var(--color-link-blue);
            padding: 16px;
            border-radius: 4px;
            margin: 20px 0;
        }

        .info-box p {
            margin: 0;
            color: var(--color-text-dark);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            background-color: var(--color-primary-blue);
            color: white;
            margin-top: 40px;
        }

        .footer a {
            color: var(--color-secondary-gold);
        }

        .footer a:hover {
            text-decoration: underline;
        }

        code {
            background: #F3F4F6;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .tab-navigation {
                flex-wrap: wrap;
            }
            
            .tab-button {
                flex: 1 1 50%;
            }

            .tab-content {
                padding: 24px;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<div class="header">
    <h1>LibGuides A11y Insights</h1>
    <p>Comprehensive WCAG 2.1 AA compliance scanning for LibGuides</p>
</div>

<div class="container">
    
    <div class="tab-navigation">
        <button class="tab-button active" onclick="switchTab(event, 'about')">About</button>
        <button class="tab-button" onclick="switchTab(event, 'how-to-use')">How to Use</button>
        <button class="tab-button" onclick="switchTab(event, 'features')">Features</button>
        <button class="tab-button" onclick="switchTab(event, 'faq')">FAQ</button>
    </div>

    <!-- About Tab -->
    <div id="about" class="tab-content active">
        <h2>About This Project</h2>
        
        <p>LibGuides A11y Insights is a bookmarklet that helps LibGuide owners create accessible and inclusive guides for all users, including those who rely on screen readers and other assistive technologies.</p>

        <p>Built for the University of Michigan Library, this tool helps anyone managing LibGuides quickly spot and fix accessibility issues, offering clear, actionable guidance aligned with WCAG 2.1 AA standards.</p>

        <div class="bookmarklet-section">
            <h3 style="margin-bottom: 16px; color: var(--color-primary-blue);">Try It Now</h3>
            <p style="margin-bottom: 16px;">Drag this button to your bookmarks bar to install:</p>
            <a href="javascript:(function(){var s=document.createElement('script');s.src='https://padhma.github.io/libguides-a11y-scanner/scanner.js?'+Date.now();document.head.appendChild(s);})();" 
                class="bookmarklet-button"
                onclick="alert('‚ö†Ô∏è Don\\'t click! DRAG this button to your bookmarks bar instead.'); return false;">
                üîç LibGuides A11y Insights
            </a>
        </div>

        <h3>Technology</h3>
        <p>The tool is built on two complementary testing layers:</p>
        <ul style="margin: 16px 0; padding-left: 24px;">
            <li><strong>Industry-Standard Foundation:</strong> Uses <a href="https://github.com/dequelabs/axe-core" target="_blank">axe-core</a>, the same accessibility testing engine trusted by Google, Microsoft, and accessibility professionals worldwide</li>
            <li><strong>Custom LibGuides Intelligence:</strong> Specialized checks designed specifically for common LibGuides accessibility issues, including empty box titles, URL-only links, poor alt text quality, problematic table structures, duplicate IDs from pasted content, and layout table detection</li>
        </ul>
        <p>This dual-layer approach catches both standard WCAG violations and LibGuides-specific patterns that generic tools miss, with remediation instructions tailored to the LibGuides CMS interface.</p>

        <h3>Privacy & Security</h3>
        <p>All scanning happens entirely in your browser. No data is transmitted to external servers, ensuring complete privacy for your content and users.</p>

        <h3>Open Source</h3>
        <p>This project is free and open source. View the code, report issues, or contribute on <a href="#">GitHub</a>.</p>
    </div>

    <!-- How to Use Tab -->
    <div id="how-to-use" class="tab-content">
        <h2>How to Use</h2>

        <h3>Installation</h3>
        
        <div class="instruction">
            <strong>Installing the Bookmarklet</strong>
            <ol>
                <li>Make sure your browser's bookmarks bar is visible (press <code>Ctrl+Shift+B</code> on Windows or <code>Cmd+Shift+B</code> on Mac)</li>
                <li>Navigate to the "About" tab and find the gold button labeled "LibGuides A11y Insights"</li>
                <li>Click and drag this button to your bookmarks bar</li>
                <li>The bookmarklet is now installed and ready to use</li>
            </ol>
        </div>

        <h3>Scanning a LibGuide</h3>

        <div class="step">
            <span class="step-number">1</span>
            <div class="step-content">
                <strong>Navigate to a LibGuide</strong>
                <p>Open any LibGuides page you want to scan. You can test with one of these examples:</p>
                <div class="demo-links">
                    <a href="https://guides.lib.umich.edu/" target="_blank">UMich LibGuides Home</a> |
                    <a href="https://guides.lib.umich.edu/diversity" target="_blank">Diversity Guide</a> |
                    <a href="https://guides.lib.umich.edu/c.php?g=282936" target="_blank">Web of Science Guide</a>
                </div>
            </div>
        </div>

        <div class="step">
            <span class="step-number">2</span>
            <div class="step-content">
                <strong>Click the bookmarklet</strong>
                <p>Simply click the "LibGuides A11y Insights" button you installed in your bookmarks bar.</p>
            </div>
        </div>

        <div class="step">
            <span class="step-number">3</span>
            <div class="step-content">
                <strong>Review the results</strong>
                <p>A sidebar will appear on the right side of the page showing your accessibility score and a detailed list of issues found.</p>
            </div>
        </div>

        <div class="step">
            <span class="step-number">4</span>
            <div class="step-content">
                <strong>Fix the issues</strong>
                <p>Each issue includes plain-language instructions specific to LibGuides. Click "Show on Page" to highlight the problematic element.</p>
            </div>
        </div>

        <div class="info-box">
            <p><strong>Note:</strong> This tool must be run on a live LibGuides page. It will not work on blank browser tabs, browser settings pages, or some administrative interfaces.</p>
        </div>
    </div>

    <!-- Features Tab -->
    <div id="features" class="tab-content">
        <h2>Features</h2>

        <h3>What the Tool Checks</h3>
        
        <div class="features-grid">
            <div class="feature-card">
                <h4>Images</h4>
                <p>Identifies missing or generic alt text, decorative images without null alt attributes, and image quality issues.</p>
            </div>
            
            <div class="feature-card">
                <h4>Headings</h4>
                <p>Verifies proper hierarchical structure (H1, H2, H3) and ensures no heading levels are skipped.</p>
            </div>
            
            <div class="feature-card">
                <h4>Links</h4>
                <p>Checks for descriptive link text and flags generic phrases like "click here" or bare URLs.</p>
            </div>
            
            <div class="feature-card">
                <h4>Color Contrast</h4>
                <p>Ensures text meets WCAG 2.1 AA requirements (minimum 4.5:1 ratio) for readability.</p>
            </div>
            
            <div class="feature-card">
                <h4>Forms</h4>
                <p>Verifies that all input fields have proper labels for screen reader users.</p>
            </div>
            
            <div class="feature-card">
                <h4>WCAG 2.1 AA</h4>
                <p>Comprehensive compliance checks against current accessibility standards.</p>
            </div>
        </div>

        <h3>Key Capabilities</h3>

        <ul>
            <li><strong>Accessibility Score:</strong> Get an immediate visual rating of your page's accessibility quality</li>
            <li><strong>Plain Language Explanations:</strong> Issues are described simply without technical jargon</li>
            <li><strong>LibGuides-Specific Fixes:</strong> Step-by-step instructions tailored to the LibGuides CMS interface</li>
            <li><strong>Visual Highlighting:</strong> Click "Show on Page" to instantly locate problematic elements</li>
            <li><strong>Fast Results:</strong> Complete scans generated in seconds</li>
            <li><strong>Privacy-First:</strong> All processing happens locally in your browser</li>
            <li><strong>Always Free:</strong> No costs, subscriptions, or usage limits</li>
        </ul>

        <div class="info-box">
            <p><strong>Automated Detection:</strong> This tool automatically catches approximately 60% of WCAG issues. Complex issues like meaningful image descriptions, logical reading order, and content structure still require human review.</p>
        </div>
    </div>

    <!-- FAQ Tab -->
    <div id="faq" class="tab-content">
        <h2>Frequently Asked Questions</h2>

        <details class="faq-item">
            <summary class="faq-question">Nothing happens when I click the bookmarklet. What's wrong?</summary>
            <div class="faq-answer">
                Ensure you are on a live LibGuides page (such as a guide's main page or individual box page). The LibGuides A11y Insights cannot run on blank browser tabs, browser settings pages, or certain protected administrative interfaces. Also, verify that JavaScript is enabled in your browser.
            </div>
        </details>

        <details class="faq-item">
            <summary class="faq-question">How accurate is this tool?</summary>
            <div class="faq-answer">
                LibGuides A11y Insights uses the axe-core engine, which is the industry standard used by Google, Microsoft, and other major organizations. It automatically detects approximately 60% of WCAG 2.1 AA violations. Some accessibility issues‚Äîsuch as meaningful image descriptions, logical content order, and appropriate heading usage‚Äîstill require human judgment and manual review.
            </div>
        </details>

        <details class="faq-item">
            <summary class="faq-question">Does this work on all LibGuides platforms?</summary>
            <div class="faq-answer">
                Yes, this tool is designed to work on any LibGuides instance (LibGuides CMS version 2 and later). The tool adapts to different LibGuides configurations and customizations.
            </div>
        </details>

        <details class="faq-item">
            <summary class="faq-question">Is my content data being sent anywhere?</summary>
            <div class="faq-answer">
                No. All scanning happens entirely within your browser. No content, scan results, or usage data is transmitted to external servers. Your privacy and the privacy of your LibGuides content is completely protected.
            </div>
        </details>

        <details class="faq-item">
            <summary class="faq-question">Can I use this tool on other websites besides LibGuides?</summary>
            <div class="faq-answer">
                While the tool will technically run on any webpage, the remediation instructions are specifically written for the LibGuides CMS. For general accessibility testing on other sites, consider using browser extensions like axe DevTools or WAVE.
            </div>
        </details>

        <details class="faq-item">
            <summary class="faq-question">How do I report a bug or request a feature?</summary>
            <div class="faq-answer">
                You can report issues or suggest improvements by emailing <a href="mailto:padhma@umich.edu">padhma@umich.edu</a> or by opening an issue on the project's GitHub repository.
            </div>
        </details>

        <details class="faq-item">
            <summary class="faq-question">What browsers are supported?</summary>
            <div class="faq-answer">
                This tool works on all modern browsers, including Chrome, Firefox, Safari, and Edge. Internet Explorer is not supported.
            </div>
        </details>
    </div>

</div>

<div class="footer">
    <p><strong>LibGuides A11y Insights</strong></p>
    <p style="margin-top: 8px; opacity: 0.8; font-size: 14px;">
        Built for University of Michigan Library ‚Ä¢ Powered by axe-core
    </p>
    <p style="margin-top: 12px;">
        <a href="mailto:padhma@umich.edu">Contact the Developer</a>
    </p>
</div>

<script>
function switchTab(event, tabId) {
    // Hide all tab contents
    const tabContents = document.querySelectorAll('.tab-content');
    tabContents.forEach(content => {
        content.classList.remove('active');
    });

    // Remove active class from all buttons
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(button => {
        button.classList.remove('active');
    });

    // Show selected tab and mark button as active
    document.getElementById(tabId).classList.add('active');
    event.currentTarget.classList.add('active');
}
</script>

</body>
</html>
